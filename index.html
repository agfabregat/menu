<!doctype html>
<html lang="en">
<head>
  
<title>Index</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">      
<meta name="viewport" content="width=device-width, initial-scale=1.0"> 
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
<link rel="icon" href="favicon.ico" type="image/x-icon">

</head>
<body>

<div><span onclick="myFunction('js/uruguayLinks.js')">UruguayTv</span></</div>

<script>
function StringBuilder(value) {
		this.strings = new Array();
		this.append(value);
	}

	StringBuilder.prototype.append = function (value) {
		if (value) {
			this.strings.push(value);
		}
	}

	StringBuilder.prototype.clear = function () {
		this.strings.length = 0;
	}

	StringBuilder.prototype.toString = function () {
		return this.strings.join("");
	}

</script>


<script>
function myFunction(url){
let jsonData = getJson(url);
updateScreen(jsonData);
}
</script>
<script>
function getJson(url){
	fetch(url)
    .then(result => {return result.json()})
    .then((output) => {
        console.log('Output: ', output);
        
	}).catch(err => console.error(err));
}
</script>

<script>

function updateScreen(jsonData){
	let sb = new StringBuilder();
	let jsonObj = JSON.parse(jsonData);
	for (let i of jsonObj) 
	{ 
		let t = i.title;
		let h = i.href;
		sb.append(`<div><a target="_blank" href="${i.href}">${i.title}</a></div>`);
		//sb.append(`<div><span>${i.title}</span><span>${i.href}</span></div>`);
	}
	let content = document.getElementById("content");
	content.innerHTML=sb.toString(); 
	sb.clear();
}
</script>
</body>
</html>